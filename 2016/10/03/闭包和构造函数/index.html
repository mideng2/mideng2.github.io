<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="前端,js," />








  <link rel="shortcut icon" type="image/x-icon" href="/straw.ico?v=5.0.1" />






<meta name="description" content="闭包和构造函数我总混乱。。">
<meta property="og:type" content="article">
<meta property="og:title" content="闭包和构造函数">
<meta property="og:url" content="http://yoursite.com/2016/10/03/闭包和构造函数/index.html">
<meta property="og:site_name" content="阿炸炸炸酱の饮食记录">
<meta property="og:description" content="闭包和构造函数我总混乱。。">
<meta property="og:image" content="http://yoursite.com/b7c74197-fc49-4ec4-a4f6-3c18dd9083be_128_files/bbe32d87-1c89-4a1d-96d7-1ab68be29dcc.png">
<meta property="og:image" content="http://yoursite.com/b7c74197-fc49-4ec4-a4f6-3c18dd9083be_128_files/78fca944-090e-4f7f-ae28-c1a4e1f5e25d.png">
<meta property="og:image" content="http://yoursite.com/b7c74197-fc49-4ec4-a4f6-3c18dd9083be_128_files/56589275-8ecb-4fc2-a432-d8d6dea07055.png">
<meta property="og:image" content="http://yoursite.com/b7c74197-fc49-4ec4-a4f6-3c18dd9083be_128_files/5e83d14c-7e0f-415c-b507-1b9bb33f42c3.png">
<meta property="og:updated_time" content="2016-10-03T14:19:44.874Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="闭包和构造函数">
<meta name="twitter:description" content="闭包和构造函数我总混乱。。">
<meta name="twitter:image" content="http://yoursite.com/b7c74197-fc49-4ec4-a4f6-3c18dd9083be_128_files/bbe32d87-1c89-4a1d-96d7-1ab68be29dcc.png">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/2016/10/03/闭包和构造函数/"/>

  <title> 闭包和构造函数 | 阿炸炸炸酱の饮食记录 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">阿炸炸炸酱の饮食记录</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                闭包和构造函数
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-03T22:09:09+08:00" content="2016-10-03">
              2016-10-03
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/前端/" itemprop="url" rel="index">
                    <span itemprop="name">前端</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <style type="text/css" id="wiz_todo_style_id" wiz_link_version="01.00.09">.wiz-todo, .wiz-todo-img {width: 16px; height: 16px; cursor: default; padding: 0 10px 0 2px; vertical-align: -10%;-webkit-user-select: none;} .wiz-todo-label { display: inline-block; padding-top: 7px; padding-bottom: 6px; line-height: 1.5;} .wiz-todo-label-checked {  color: #666;} .wiz-todo-label-unchecked {text-decoration: initial;} .wiz-todo-completed-info {padding-left: 44px; display: inline-block; } .wiz-todo-avatar { width:20px; height: 20px; vertical-align: -20%; margin-right:10px; border-radius: 2px;} .wiz-todo-account, .wiz-todo-dt { color: #666; }</style>

<p><style id="wiz_custom_css">        html, body {            font-size: 15px;        }        body {            font-family: Helvetica, ‘Hiragino Sans GB’, ‘微软雅黑’, ‘Microsoft YaHei UI’, SimSun, SimHei, arial, sans-serif;            line-height: 1.6;            margin: 0;            padding: 20px 36px;            padding: 1.33rem 2.4rem;        }        h1, h2, h3, h4, h5, h6 {            margin: 20px 0 10px;            margin: 1.33rem 0 0.667rem;            padding: 0;            font-weight: bold;        }        h1 {            font-size: 21px;            font-size: 1.4rem;        }        h2 {            font-size: 20px;            font-size: 1.33rem;        }        h3 {            font-size: 18px;            font-size: 1.2rem;        }        h4 {            font-size: 17px;            font-size: 1.13rem;        }        h5 {            font-size: 15px;            font-size: 1rem;        }        h6 {            font-size: 15px;            font-size: 1rem;            color: #777777;            margin: 1rem 0;        }        div, p, ul, ol, dl, li {            margin: 0;        }        blockquote, table, pre, code {            margin: 8px 0;        }        ul, ol {            padding-left: 32px;            padding-left: 2.13rem;        }        blockquote {            padding: 0 12px;            padding: 0 0.8rem;        }        blockquote &gt; :first-child {            margin-top: 0;        }        blockquote &gt; :last-child {            margin-bottom: 0;        }        img {            border: 0;            max-width: 100%;            height: auto !important;            margin: 2px 0;        }        table {            border-collapse: collapse;            border: 1px solid #bbbbbb;        }        td {            padding: 4px 8px;            border-collapse: collapse;            border: 1px solid #bbbbbb;        }        @media screen and (max-width: 660px) {            body {                padding: 20px 18px;                padding: 1.33rem 1.2rem;            }        }        @media only screen and (-webkit-max-device-width: 1024px), only screen and (-o-max-device-width: 1024px), only screen and (max-device-width: 1024px), only screen and (-webkit-min-device-pixel-ratio: 3), only screen and (-o-min-device-pixel-ratio: 3), only screen and (min-device-pixel-ratio: 3) {            html, body {                font-size: 17px;            }            body {                line-height: 1.7;                padding: 0.75rem 0.9375rem;                color: #353c47;            }            h1 {                font-size: 2.125rem;            }            h2 {                font-size: 1.875rem;            }            h3 {                font-size: 1.625rem;            }            h4 {                font-size: 1.375rem;            }            h5 {                font-size: 1.125rem;            }            h6 {                color: inherit;            }            ul, ol {                padding-left: 2.5rem;            }            blockquote {                padding: 0 0.9375rem;            }        }</style><style name="wiz_tmp_editor_style">html, body {    font-size: 15px;}body {    font-family: Helvetica, ‘Hiragino Sans GB’, 微软雅黑, ‘Microsoft YaHei UI’, SimSun, SimHei, arial, sans-serif;    line-height: 1.6;    color: ;    background-color: ;    margin: 0;    padding: 16px 20px;}h1, h2, h3, h4, h5, h6 {    margin: 20px 0 10px;    margin: 1.33rem 0 0.667rem;    padding: 0;    font-weight: bold;}h1 {    font-size: 21px;    font-size: 1.4rem;}h2 {    font-size: 20px;    font-size: 1.33rem;}h3 {    font-size: 18px;    font-size: 1.2rem;}h4 {    font-size: 17px;    font-size: 1.13rem;}h5 {    font-size: 15px;    font-size: 1rem;}h6 {    font-size: 15px;    font-size: 1rem;    color: #777777;    margin: 1rem 0;}div, p, ul, ol, dl, li {    margin: 0;}blockquote, table, pre, code{    margin: 8px 0;}ul, ol {    padding-left: 32px;    padding-left: 2.13rem;}blockquote {    border-left: 4px solid #dddddd;    padding: 0 12px;    padding: 0 0.8rem;}blockquote &gt; :first-child {    margin-top: 0;}blockquote &gt; :last-child {    margin-bottom: 0;}img {    border: 0;    max-width: 100%;    height: auto !important;    margin: 2px 0;}table {    border-collapse: collapse;    border: 1px solid #bbbbbb;}td {    padding:4px 8px;    border-collapse: collapse;    border: 1px solid #bbbbbb;}@media screen and (max-width: 660px) {    body {        padding: 20px 18px;        padding: 1.33rem 1.2rem;    }}@media only screen and (-webkit-max-device-width: 1024px), only screen and (-o-max-device-width: 1024px), only screen and (max-device-width: 1024px), only screen and (-webkit-min-device-pixel-ratio: 3), only screen and (-o-min-device-pixel-ratio: 3), only screen and (min-device-pixel-ratio: 3) {    html, body {        font-size: 17px;    }    body {        line-height: 1.7;        padding: 0.75rem 0.9375rem;        color: #353c47;    }    h1 {        font-size: 2.125rem;    }    h2 {        font-size: 1.875rem;    }    h3 {        font-size: 1.625rem;    }    h4 {        font-size: 1.375rem;    }    h5 {        font-size: 1.125rem;    }    h6 {        color: inherit;    }    ul, ol {        padding-left: 2.5rem;    }    blockquote {        padding: 0 0.9375rem;    }}</style><link rel="stylesheet" type="text/css" href="file:///D:\Program Files (x86)\WizNote\WizNote\WizTools\htmleditor\editor.css" wiz_style="unsave" charset="utf-8"><link rel="stylesheet" type="text/css" href="file:///D:\Program Files (x86)\WizNote\WizNote\WizTools\htmleditor\scrollbar.css" wiz_style="unsave" charset="utf-8"><script type="text/javascript" src="file:///D:\Program Files (x86)\WizNote\WizNote\WizTools\htmleditor\utils.js" wiz_style="unsave" charset="utf-8"></script><script type="text/javascript" src="file:///D:\Program Files (x86)\WizNote\WizNote\WizTools\htmleditor\localize.js" wiz_style="unsave" charset="utf-8"></script><script type="text/javascript" src="file:///D:\Program Files (x86)\WizNote\WizNote\WizTools\htmleditor\core\wizEditor.js" wiz_style="unsave" charset="utf-8"></script><script type="text/javascript" src="file:///D:\Program Files (x86)\WizNote\WizNote\WizTools\htmleditor\core\checklist\todo.js" wiz_style="unsave" charset="utf-8"></script><script type="text/javascript" src="file:///D:\Program Files (x86)\WizNote\WizNote\WizTools\htmleditor\core\imageresize\dragresize.js" wiz_style="unsave" charset="utf-8"></script><script type="text/javascript" src="file:///D:\Program Files (x86)\WizNote\WizNote\WizTools\htmleditor\editorHelper.js" wiz_style="unsave" charset="utf-8"></script></p>
<body style="" contenteditable="true"><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);">好难。。这个适合深夜一个人阅读！！！</p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);">大家都知道，得到对象有两种方式，第一是构造函数，第二是闭包，两种方式各有优点，而且用的情景也是不一样的，但是从“外观上”看，有个比较醒目的区别就是：闭包创建的对象不必用new。我们先来看看两者的具体区别：</p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);"><strong>构造函数：</strong></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);">优点：</p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);">1.理解起来相对较简单</p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);">2.可以实现继承</p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);">3.原型方法用的同一块内存</p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);">缺点：</p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);">1.如果没有做特殊处理，必须要用new运算符</p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);">2.无法实现私有属性，所有属性都会暴露在对象中</p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);"><strong>闭包：</strong></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);">优点：</p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);">1.无需使用new运算符</p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);">2.可以利用作用域干很多事情</p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);">3.可以将不想被外部看到的属性封装在闭包内部</p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);">缺点：</p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);">1.比较不好理解</p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);">2.不好实现继承</p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);">3.无法运用apply和call，因为是利用作用域实现的。</p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);">光说没意思，先来个例子先：</p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);">构造函数方式：</p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);"></p><div class="dp-highlighter bg_javascript" style="font-family: Consolas, 'Courier New', Courier, mono, serif; font-size: 12px; width: 693px; overflow-x: auto; overflow-y: hidden; padding-top: 1px; position: relative; color: rgb(54, 46, 43); line-height: 26px; widows: 1; background-color: rgb(231, 229, 220); margin-top: 18px !important; margin-bottom: 18px !important;"><div class="bar" style="padding-left: 45px;"><div class="tools" style="padding: 3px 8px 10px 10px; font-size: 9px; line-height: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(108, 226, 108); background-color: rgb(248, 248, 248);"><b>[javascript]</b>&nbsp;<a href="http://blog.csdn.net/u010716758/article/details/46275461#" class="ViewSource" title="view plain" style="color: rgb(160, 160, 160); text-decoration: none; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-image: url(&quot;&quot;); background-attachment: initial; background-color: inherit; background-size: initial; background-origin: initial; background-clip: initial; background-position: left top; background-repeat: no-repeat;" target="_blank" rel="external">view plain</a><span data-mod="popu_168">&nbsp;<a href="http://blog.csdn.net/u010716758/article/details/46275461#" class="CopyToClipboard" title="copy" style="color: rgb(160, 160, 160); text-decoration: none; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-image: url(&quot;&quot;); background-attachment: initial; background-color: inherit; background-size: initial; background-origin: initial; background-clip: initial; background-position: left top; background-repeat: no-repeat;" target="_blank" rel="external">copy</a><div style="position: absolute; left: 455px; top: 1428px; width: 18px; height: 18px; z-index: 99;"><embed id="ZeroClipboardMovie_1" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_1" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=1&amp;width=18&amp;height=18" wmode="transparent"></div></span><span data-mod="popu_169"></span></div></div><ol start="1" class="dp-c" style="padding: 0px; border: none; list-style-position: initial; list-style-image: initial; color: rgb(92, 92, 92); background-color: rgb(255, 255, 255); margin-bottom: 1px !important; margin-left: 45px !important;"><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">function</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">&nbsp;Person(name,age){&nbsp;&nbsp;</span></span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;<span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">this</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">.name=name;&nbsp;&nbsp;</span></span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;<span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">this</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">.age=age;&nbsp;&nbsp;</span></span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">}&nbsp;&nbsp;</span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">Person.prototype.sayName=<span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">function</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">(){&nbsp;&nbsp;</span></span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;alert(<span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">this</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">.name);&nbsp;&nbsp;</span></span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">}&nbsp;&nbsp;</span></li></ol></div><br style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);"><span style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);">闭包方式</span><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);"></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);"></p><div class="dp-highlighter bg_javascript" style="font-family: Consolas, 'Courier New', Courier, mono, serif; font-size: 12px; width: 693px; overflow-x: auto; overflow-y: hidden; padding-top: 1px; position: relative; color: rgb(54, 46, 43); line-height: 26px; widows: 1; background-color: rgb(231, 229, 220); margin-top: 18px !important; margin-bottom: 18px !important;"><div class="bar" style="padding-left: 45px;"><div class="tools" style="padding: 3px 8px 10px 10px; font-size: 9px; line-height: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(108, 226, 108); background-color: rgb(248, 248, 248);"><b>[javascript]</b>&nbsp;<a href="http://blog.csdn.net/u010716758/article/details/46275461#" class="ViewSource" title="view plain" style="color: rgb(160, 160, 160); text-decoration: none; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-image: url(&quot;&quot;); background-attachment: initial; background-color: inherit; background-size: initial; background-origin: initial; background-clip: initial; background-position: left top; background-repeat: no-repeat;" target="_blank" rel="external">view plain</a><span data-mod="popu_168">&nbsp;<a href="http://blog.csdn.net/u010716758/article/details/46275461#" class="CopyToClipboard" title="copy" style="color: rgb(160, 160, 160); text-decoration: none; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-image: url(&quot;&quot;); background-attachment: initial; background-color: inherit; background-size: initial; background-origin: initial; background-clip: initial; background-position: left top; background-repeat: no-repeat;" target="_blank" rel="external">copy</a><div style="position: absolute; left: 455px; top: 1673px; width: 18px; height: 18px; z-index: 99;"><embed id="ZeroClipboardMovie_2" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_2" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=2&amp;width=18&amp;height=18" wmode="transparent"></div></span><span data-mod="popu_169"></span></div></div><ol start="1" class="dp-c" style="padding: 0px; border: none; list-style-position: initial; list-style-image: initial; color: rgb(92, 92, 92); background-color: rgb(255, 255, 255); margin-bottom: 1px !important; margin-left: 45px !important;"><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">function</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">&nbsp;createPerson(name,age){&nbsp;&nbsp;</span></span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">return</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sayName:<span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">function</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">(){&nbsp;&nbsp;</span></span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert(name);&nbsp;&nbsp;</span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getAge:<span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">function</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">(){&nbsp;&nbsp;</span></span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">return</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">&nbsp;age;&nbsp;&nbsp;</span></span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">}&nbsp;&nbsp;</span></li></ol></div><br style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);"><span style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);">在jquery内部中，deferred对象，jqXHR都是采用的闭包的方式，而主构造函数、Event事件对象采用的是构造函数的方式。</span><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);"></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);">我们先说说deferrd对象，说之前先看看是怎么用的，最值得一提的就是jq的pipe方法，当然后面变成then方法。由于我看的源码是1.7.1版本的，所以就叫pipe方法吧，这个方法可以说是deferred的精髓。</p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);"></p><div class="dp-highlighter bg_javascript" style="font-family: Consolas, 'Courier New', Courier, mono, serif; font-size: 12px; width: 693px; overflow-x: auto; overflow-y: hidden; padding-top: 1px; position: relative; color: rgb(54, 46, 43); line-height: 26px; widows: 1; background-color: rgb(231, 229, 220); margin-top: 18px !important; margin-bottom: 18px !important;"><div class="bar" style="padding-left: 45px;"><div class="tools" style="padding: 3px 8px 10px 10px; font-size: 9px; line-height: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(108, 226, 108); background-color: rgb(248, 248, 248);"><b>[javascript]</b>&nbsp;<a href="http://blog.csdn.net/u010716758/article/details/46275461#" class="ViewSource" title="view plain" style="color: rgb(160, 160, 160); text-decoration: none; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-image: url(&quot;&quot;); background-attachment: initial; background-color: inherit; background-size: initial; background-origin: initial; background-clip: initial; background-position: left top; background-repeat: no-repeat;" target="_blank" rel="external">view plain</a><span data-mod="popu_168">&nbsp;<a href="http://blog.csdn.net/u010716758/article/details/46275461#" class="CopyToClipboard" title="copy" style="color: rgb(160, 160, 160); text-decoration: none; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-image: url(&quot;&quot;); background-attachment: initial; background-color: inherit; background-size: initial; background-origin: initial; background-clip: initial; background-position: left top; background-repeat: no-repeat;" target="_blank" rel="external">copy</a><div style="position: absolute; left: 455px; top: 2062px; width: 18px; height: 18px; z-index: 99;"><embed id="ZeroClipboardMovie_3" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_3" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=3&amp;width=18&amp;height=18" wmode="transparent"></div></span><span data-mod="popu_169"></span></div></div><ol start="1" class="dp-c" style="padding: 0px; border: none; list-style-position: initial; list-style-image: initial; color: rgb(92, 92, 92); background-color: rgb(255, 255, 255); margin-bottom: 1px !important; margin-left: 45px !important;"><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">var</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">&nbsp;defer1=$.Deferred();&nbsp;&nbsp;</span></span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">defer1&nbsp;&nbsp;</span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;.pipe(<span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">function</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">(arg){&nbsp;&nbsp;</span></span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">var</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">&nbsp;defer=$.Deferred();&nbsp;&nbsp;</span></span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;setTimeout(<span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">function</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">(){&nbsp;&nbsp;</span></span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.log(arg++);&nbsp;&nbsp;</span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defer.resolve(arg);&nbsp;&nbsp;</span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;},1000);&nbsp;&nbsp;</span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">return</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">&nbsp;defer;&nbsp;&nbsp;</span></span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;})&nbsp;&nbsp;</span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;.pipe(<span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">function</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">(arg){&nbsp;&nbsp;</span></span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">var</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">&nbsp;defer=$.Deferred();&nbsp;&nbsp;</span></span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;setTimeout(<span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">function</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">(){&nbsp;&nbsp;</span></span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.log(arg++);&nbsp;&nbsp;</span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defer.resolve(arg);&nbsp;&nbsp;</span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;},1000);&nbsp;&nbsp;</span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">return</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">&nbsp;defer;&nbsp;&nbsp;</span></span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;})&nbsp;&nbsp;</span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;.pipe(<span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">function</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">(arg){&nbsp;&nbsp;</span></span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;console.log(arg);&nbsp;&nbsp;</span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">return</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">&nbsp;arg;&nbsp;&nbsp;</span></span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;})&nbsp;&nbsp;</span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;.pipe(<span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">function</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">(arg){&nbsp;&nbsp;</span></span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;console.log(arg);&nbsp;&nbsp;</span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;});&nbsp;&nbsp;</span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;</span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">defer1.resolve(1);&nbsp;&nbsp;</span></li></ol></div><span style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);">结果:</span><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);"></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);"><img src="b7c74197-fc49-4ec4-a4f6-3c18dd9083be_128_files/bbe32d87-1c89-4a1d-96d7-1ab68be29dcc.png" alt="" style="border-style: none;"><br>打开浏览器后：1s 后 &nbsp; 打印1 &nbsp; 再1s后 &nbsp;打印2 &nbsp;3 &nbsp;3</p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);">对于单线程的js来说，学会异步编程是非常重要的，而这里也使用职责链的模式让结构更加清晰，对于deferred整体是怎样实现的我就不一一赘述，我们直接来看pipe方法是怎么实现的。</p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);"></p><div class="dp-highlighter bg_javascript" style="font-family: Consolas, 'Courier New', Courier, mono, serif; font-size: 12px; width: 693px; overflow-x: auto; overflow-y: hidden; padding-top: 1px; position: relative; color: rgb(54, 46, 43); line-height: 26px; widows: 1; background-color: rgb(231, 229, 220); margin-top: 18px !important; margin-bottom: 18px !important;"><div class="bar" style="padding-left: 45px;"><div class="tools" style="padding: 3px 8px 10px 10px; font-size: 9px; line-height: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(108, 226, 108); background-color: rgb(248, 248, 248);"><b>[javascript]</b>&nbsp;<a href="http://blog.csdn.net/u010716758/article/details/46275461#" class="ViewSource" title="view plain" style="color: rgb(160, 160, 160); text-decoration: none; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-image: url(&quot;&quot;); background-attachment: initial; background-color: inherit; background-size: initial; background-origin: initial; background-clip: initial; background-position: left top; background-repeat: no-repeat;" target="_blank" rel="external">view plain</a><span data-mod="popu_168">&nbsp;<a href="http://blog.csdn.net/u010716758/article/details/46275461#" class="CopyToClipboard" title="copy" style="color: rgb(160, 160, 160); text-decoration: none; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-image: url(&quot;&quot;); background-attachment: initial; background-color: inherit; background-size: initial; background-origin: initial; background-clip: initial; background-position: left top; background-repeat: no-repeat;" target="_blank" rel="external">copy</a><div style="position: absolute; left: 455px; top: 2816px; width: 18px; height: 18px; z-index: 99;"><embed id="ZeroClipboardMovie_4" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_4" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=4&amp;width=18&amp;height=18" wmode="transparent"></div></span><span data-mod="popu_169"></span></div></div><ol start="1" class="dp-c" style="padding: 0px; border: none; list-style-position: initial; list-style-image: initial; color: rgb(92, 92, 92); background-color: rgb(255, 255, 255); margin-bottom: 1px !important; margin-left: 45px !important;"><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">pipe:&nbsp;</span><span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">function</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">(&nbsp;fnDone,&nbsp;fnFail,&nbsp;fnProgress&nbsp;)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">return</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">&nbsp;jQuery.Deferred(</span><span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">function</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">(&nbsp;newDefer&nbsp;)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jQuery.each(&nbsp;{&nbsp;&nbsp;</span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;done:&nbsp;[&nbsp;fnDone,&nbsp;<span class="string" style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit;">“resolve”</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">&nbsp;],&nbsp;&nbsp;</span></span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fail:&nbsp;[&nbsp;fnFail,&nbsp;<span class="string" style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit;">“reject”</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">&nbsp;],&nbsp;&nbsp;</span></span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;progress:&nbsp;[&nbsp;fnProgress,&nbsp;<span class="string" style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit;">“notify”</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">&nbsp;]&nbsp;&nbsp;</span></span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;<span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">function</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">(&nbsp;handler,&nbsp;data&nbsp;)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">var</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">&nbsp;fn&nbsp;=&nbsp;data[&nbsp;0&nbsp;],&nbsp;&nbsp;</span></span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;action&nbsp;=&nbsp;data[&nbsp;1&nbsp;],&nbsp;&nbsp;</span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returned;&nbsp;&nbsp;</span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">if</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">&nbsp;(&nbsp;jQuery.isFunction(&nbsp;fn&nbsp;)&nbsp;)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;deferred<a href="span class=&quot;keyword&quot; style=&quot;margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153">&nbsp;handler&nbsp;</a>; font-weight: bold; background-color: inherit;”&gt;function</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">()&nbsp;{</span><span class="comment" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">//为deferred增加回调函数</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">&nbsp;&nbsp;</span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returned&nbsp;=&nbsp;fn.apply(&nbsp;<span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">this</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">,&nbsp;arguments&nbsp;);&nbsp;&nbsp;</span></span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">if</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">&nbsp;(&nbsp;returned&nbsp;&amp;&amp;&nbsp;jQuery.isFunction(&nbsp;returned.promise&nbsp;)&nbsp;)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returned.promise().then(&nbsp;newDefer.resolve,&nbsp;newDefer.reject,&nbsp;newDefer.notify&nbsp;);&nbsp;&nbsp;</span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">else</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;newDefer<a href="&nbsp;&lt;/span&gt;&lt;span class=&quot;keyword&quot; style=&quot;margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153">&nbsp;action&nbsp;+&nbsp;<span class="string" style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit;">“With”</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">&nbsp;</span></a>; font-weight: bold; background-color: inherit;”&gt;this</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">&nbsp;===&nbsp;deferred&nbsp;?&nbsp;newDefer&nbsp;:&nbsp;</span><span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">this</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">,&nbsp;[&nbsp;returned&nbsp;]&nbsp;);&nbsp;&nbsp;</span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});&nbsp;&nbsp;</span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">else</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;deferred<a href="&nbsp;newDefer[&nbsp;action&nbsp;]&nbsp;">&nbsp;handler&nbsp;</a>;<span class="comment" style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">//为deferred增加失败回调函数，函数为defer的执行</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit;">&nbsp;&nbsp;</span></span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});&nbsp;&nbsp;</span></li><li class="" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; line-height: 18px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}).promise();&nbsp;&nbsp;</span></li><li class="alt" style="border-left-width: 3px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li></ol></div><br style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);"><span style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);">先从第二行看，每次执行pipe方法，都返回了另一个deferred对象，而每个deferred对象，无非就两种方法，一是往里面加方法，二是执行里面的方法，你可以看成跟自定义事件差不多，只不过deferred对象是基于CallBacks(回调函数列表)的，功能更强大，但是原理跟自定义事件差不多，都是基于发布-订阅模式。有了这个概念，再来往后看。</span><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);"></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);">在<a href="http://lib.csdn.net/base/jquery" class="replace_word" title="jQuery知识库" target="_blank" style="color: rgb(223, 52, 52); text-decoration: none; font-weight: bold;">jQuery</a>.Deferred传入一个函数，会在<span style="font-size: 13.3333px;">jQuery.Deferred最后执行这个函数，并且会传入参数本<span style="font-size: 13.3333px;">deferred对象，执行环境也会被修改为本<span style="font-size: 13.3333px;">deferred对象，但是不要忘了，现在还在第一个<span style="font-size: 13.3333px;">deferred对象的函数体内，也就是这个函数既能访问到第一个<span style="font-size: 13.3333px;">deferred对象，又能访问到新建这个<span style="font-size: 13.3333px;">deferred对象。</span></span></span></span></span></span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);"><span style="font-size: 13.3333px;"><span style="font-size: 13.3333px;"><span style="font-size: 13.3333px;"><span style="font-size: 13.3333px;"><span style="font-size: 13.3333px;"><span style="font-size: 13.3333px;"><br></span></span></span></span></span></span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);"><span style="font-size: 13.3333px;"><span style="font-size: 13.3333px;"><span style="font-size: 13.3333px;"><span style="font-size: 13.3333px;"><span style="font-size: 13.3333px;"><span style="font-size: 13.3333px;">然后我们抛开each不看，直接看each的第二个参数，hanlder为”done”，”fail”，”progress”, &nbsp; data为对应的数组，然后往下看，fn为pipe调用时传进来的函数，action为对应的执行方法名，你可以看作是自定义事件里的fire，让所有函数执行，只不过有三个自定义的事件。而returned就是pipe传进来的函数的执行结果。</span></span></span></span></span></span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);"><br></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);">后面都以done举例：</p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);"><br></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);"><span style="font-size: 13.3333px;"><span style="font-size: 13.3333px;"><span style="font-size: 13.3333px;"><span style="font-size: 13.3333px;"><span style="font-size: 13.3333px;"><span style="font-size: 13.3333px;">然后看deferred<a href="function("> handler </a> {})</span></span></span></span></span></span><span style="font-size: 13.3333px;">这句话</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);">这里的deferred为第一个<span style="font-size: 13.3333px;">deferred对象，往第一个deferred对象里加回调函数。也就是当异步队列(deferred)resolve的时候会执行function里面的代码.那到底执行了什么呢？</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);"><span style="font-size: 13.3333px;"><br></span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);"><span style="font-size: 13.3333px;">returned = fn.apply( this, arguments );<br></span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);"><span style="font-size: 13.3333px;">这句话，就是把传进来的函数执行一次，而且这个this取决与第一个derferred触发的时候执行环境是什么，而arguments就是触发第一个deferred的时候传进的实参。</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);"><span style="font-size: 13.3333px;"><br></span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);"><span style="font-size: 13.3333px;">if ( returned &amp;&amp; jQuery.isFunction( returned.promise ) ) {<br><span style="white-space: pre;"></span>returned.promise().then( newDefer.resolve, newDefer.reject, newDefer.notify );<br><span style="white-space: pre;"></span>}<br></span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);"><span style="font-size: 13.3333px;">如果返回值拥有promise方法，说明是deferred对象或者是<span style="font-size: 13.3333px;">promise对象，<span style="font-size: 13.3333px;">promise对象</span>就是去掉了执行方法的deferred对象，跟<span style="font-size: 13.3333px;">deferred对象差不多，因为一般返回的都是自己执行，不需要在外部执行。</span></span></span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);"><span style="font-size: 13.3333px;"><span style="font-size: 13.3333px;"><span style="font-size: 13.3333px;">先将返回值变成promise对象，然后把第二个deferred对象的执行方法放到返回promise的函数列表里。可能这里有点晕了，那就画图来解释。</span></span></span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);"><span style="font-size: 13.3333px;"><span style="font-size: 13.3333px;"><span style="font-size: 13.3333px;"><img src="b7c74197-fc49-4ec4-a4f6-3c18dd9083be_128_files/78fca944-090e-4f7f-ae28-c1a4e1f5e25d.png" alt="" style="border-style: none;"><br></span></span></span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);">现在涉及三个deferred对象，第一个<span style="font-size: 13.3333px;">deferred对象执行，将导致第二个<span style="font-size: 13.3333px;">传进去的function执行，如果这个function返回值为deferred，则把第二个<span style="font-size: 13.3333px;">deferred的执行方法，也就是resolve等方法放在第三个deferred的函数列表中，也就是第三个<span style="font-size: 13.3333px;">deferred执行将导致第二个<span style="font-size: 13.3333px;">deferred执行，而第二个<span style="font-size: 13.3333px;">deferred的执行时机则是自己控制的。这样就实现了异步队列。</span></span></span></span></span></span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);"><span style="font-size: 13.3333px;"><span style="font-size: 13.3333px;"><span style="font-size: 13.3333px;"><span style="font-size: 13.3333px;"><span style="font-size: 13.3333px;"><span style="font-size: 13.3333px;"><br></span></span></span></span></span></span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);">而当返回值不是deferred时，直接执行第二个<span style="font-size: 13.3333px;">deferred对象，且参数为返回值。</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);"><br></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);">这里利用作用域链让其拥有第一个<span style="font-size: 13.3333px;">deferred的引用，又用形参和apply让其拥有第二个<span style="font-size: 13.3333px;">deferred的引用，这样当自己返回一个<span style="font-size: 13.3333px;">deferred的时候，就能有效的将三个<span style="font-size: 13.3333px;">deferred对象链接起来，形成一条异步的职责链模式，是非常巧妙的。在这里充分运用了闭包创造对象的方法，要是改用构造函数的方式，则需要把第一个和第二个deferred用变量存起来，然后再来操作各个<span style="font-size: 13.3333px;">deferred对象，虽然也是可以实现的，但是可能就没这么巧妙了。</span></span></span></span></span></p><br><div style="color:gray"><small>来源：&nbsp;<a href="http://blog.csdn.net/u010716758/article/details/46275461" target="_blank" rel="external">http://blog.csdn.net/u010716758/article/details/46275461</a></small></div><div style="color:gray"><br></div><div style="color:gray"><br></div><div style="color:gray"><br></div><div style="color:gray"><br></div><div style="color:gray">另外一个例子，来自百度知道：</div><div style="color:gray"><div class="wgt-ask accuse-response line mod-shadow" id="wgt-ask" style="position: relative; z-index: 1; line-height: 20px; padding-bottom: 15px; margin-bottom: 25px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(232, 236, 238); color: rgb(51, 51, 51); font-family: 'Microsoft YaHei', arial, 宋体, sans-serif, tahoma; font-size: 14px; widows: 1; background-color: rgb(255, 255, 255);"><h1 accuse="qTitle" style="margin-top: 0px; margin-bottom: 0px; font-size: 16px; line-height: 26px; font-family: 'Microsoft YaHei', SimHei, arial; word-break: break-all; position: relative;"><span class="ask-title " style="display: inline; font-size: 24px; line-height: 34px; font-weight: 400; overflow: hidden;">关于javascript中函数闭包和构造函数返回值的问题？</span></h1><div class="line mt-5 q-content" accuse="qContent" style="margin-top: 19px; font-size: 14px; word-wrap: break-word; word-break: break-all; line-height: 24px; font-family: &quot;Microsoft YaHei&quot;;"><p style="padding: 0px;"><a href="http://c.hiphotos.baidu.com/zhidao/pic/item/314e251f95cad1c80d55c7eb7e3e6709c83d510b.jpg" target="_blank" title="点击查看大图" class="ikqb_img_alink" rel="nofollow" style="color: rgb(63, 136, 191); text-decoration: none; display: inline-block; position: relative;"><img class="ikqb_img" src="b7c74197-fc49-4ec4-a4f6-3c18dd9083be_128_files/56589275-8ecb-4fc2-a432-d8d6dea07055.png" esrc="http://c.hiphotos.baidu.com/zhidao/wh%3D450%2C600/sign=4117b9b942a98226b8942323bfb29537/314e251f95cad1c80d55c7eb7e3e6709c83d510b.jpg" style="max-width: 500px; max-height: 340px;" name=""></a></p><p style="padding: 0px;">请看上面这段代码，为什么会出现两种不同的结果？还有如果test()作为构造函数有返回值会是什么情况？返回值是基本类型的值是什么结果？返回值是引用类型会是什么结果？求高手解答，感谢！</p></div><div class="line f-aid ask-info ff-arial" id="ask-info" style="font-size: 12px; color: rgb(158, 173, 182); font-family: arial, 宋体, sans-serif, tahoma; height: 29px; line-height: 29px; padding-top: 13px;"><span class="grid-r ask-time" style="display: inline; float: right; text-align: right;"><ins class="share-area" style="text-decoration: none; cursor: pointer; width: 150px; height: 29px;"><div class="others-share" style="display: inline; float: right; width: 155px;"><a href="" target="_blank" class="others-share-item weixin iknow-qb_share_icons" data-type="weixin-click" style="color: rgb(158, 173, 182); text-decoration: none; font-size: 16px; line-height: 1; -webkit-font-smoothing: antialiased; speak: none; outline: 0px; display: block; height: 28px; width: 28px; margin-left: 8px; float: left; text-align: center; font-family: iknow-qb_share_icons !important; background-position: 0px 0px; background-repeat: initial initial;"><span class="logo" style="color: rgb(191, 202, 213); font-size: 16px; display: block; height: 28px; width: 28px; border-top-left-radius: 100%; border-top-right-radius: 100%; border-bottom-right-radius: 100%; border-bottom-left-radius: 100%; border: 1px solid rgb(224, 229, 232); line-height: 28px;"></span></a><a href="http://v.t.sina.com.cn/share/share.php?url=http%3A%2F%2Fzhidao.baidu.com%2Fquestion%2F590659894%3Fsharesource%3Dweibo&amp;title=%E5%85%B3%E4%BA%8Ejavascript%E4%B8%AD%E5%87%BD%E6%95%B0%E9%97%AD%E5%8C%85%E5%92%8C%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E5%80%BC%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%9F_%E7%99%BE%E5%BA%A6%E7%9F%A5%E9%81%93&amp;pic=http%3A%2F%2Fimg.baidu.com%2Fimg%2Fiknow%2Fzhidaologo.png" target="_blank" class="others-share-item weibo iknow-qb_share_icons" data-type="weibo-click" style="color: rgb(158, 173, 182); text-decoration: none; font-size: 16px; line-height: 1; -webkit-font-smoothing: antialiased; speak: none; outline: 0px; display: block; height: 28px; width: 28px; margin-left: 8px; float: left; text-align: center; font-family: iknow-qb_share_icons !important; background-position: 0px 0px; background-repeat: initial initial;"><span class="logo" style="color: rgb(191, 202, 213); font-size: 16px; display: block; height: 28px; width: 28px; border-top-left-radius: 100%; border-top-right-radius: 100%; border-bottom-right-radius: 100%; border-bottom-left-radius: 100%; border: 1px solid rgb(224, 229, 232); line-height: 28px;"></span></a><a href="http://connect.qq.com/widget/shareqq/index.html?url=http%3A%2F%2Fzhidao.baidu.com%2Fquestion%2F590659894%3Fsharesource%3Dqq&amp;title=%E5%85%B3%E4%BA%8Ejavascript%E4%B8%AD%E5%87%BD%E6%95%B0%E9%97%AD%E5%8C%85%E5%92%8C%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E5%80%BC%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%9F_%E7%99%BE%E5%BA%A6%E7%9F%A5%E9%81%93&amp;pics=http%3A%2F%2Fimg.baidu.com%2Fimg%2Fiknow%2Fzhidaologo.png" target="_blank" class="others-share-item qq iknow-qb_share_icons" data-type="qq-click" style="color: rgb(158, 173, 182); text-decoration: none; font-size: 16px; line-height: 1; -webkit-font-smoothing: antialiased; speak: none; outline: 0px; display: block; height: 28px; width: 28px; margin-left: 8px; float: left; text-align: center; font-family: iknow-qb_share_icons !important; background-position: 0px 0px; background-repeat: initial initial;"><span class="logo" style="color: rgb(191, 202, 213); font-size: 16px; display: block; height: 28px; width: 28px; border-top-left-radius: 100%; border-top-right-radius: 100%; border-bottom-right-radius: 100%; border-bottom-left-radius: 100%; border: 1px solid rgb(224, 229, 232); line-height: 28px;"></span></a><a href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=http%3A%2F%2Fzhidao.baidu.com%2Fquestion%2F590659894%3Fsharesource%3Dqzone&amp;title=%E5%85%B3%E4%BA%8Ejavascript%E4%B8%AD%E5%87%BD%E6%95%B0%E9%97%AD%E5%8C%85%E5%92%8C%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E5%80%BC%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%9F_%E7%99%BE%E5%BA%A6%E7%9F%A5%E9%81%93&amp;pics=http%3A%2F%2Fimg.baidu.com%2Fimg%2Fiknow%2Fzhidaologo.png" target="_blank" class="others-share-item qzone iknow-qb_share_icons" data-type="qzone-click" style="color: rgb(158, 173, 182); text-decoration: none; font-size: 16px; line-height: 1; -webkit-font-smoothing: antialiased; speak: none; outline: 0px; display: block; height: 28px; width: 28px; margin-left: 8px; float: left; text-align: center; font-family: iknow-qb_share_icons !important; background-position: 0px 0px; background-repeat: initial initial;"><span class="logo" style="color: rgb(191, 202, 213); font-size: 18px; display: block; height: 28px; width: 28px; border-top-left-radius: 100%; border-top-right-radius: 100%; border-bottom-right-radius: 100%; border-bottom-left-radius: 100%; border: 1px solid rgb(224, 229, 232); line-height: 28px;"></span></a></div></ins></span><a class=" f-black" alog-action="qb-ask-uname" rel="nofollow" href="http://zhidao.baidu.com/usercenter?uid=be8927bc54656977d3f6f82e3b8e3bbe" target="_blank" style="color: rgb(158, 173, 182); text-decoration: none;">茫无边</a>&nbsp;<span id="v-times" class="f-pipe" style="color: rgb(232, 236, 238); margin: 0px 8px; height: 13px; overflow: hidden; width: 1px; display: inline-block; vertical-align: middle; position: relative; top: -2px; background: rgb(232, 236, 238);">|</span><span class="browse-times">&nbsp;浏览 776 次</span>&nbsp;<span class="f-pipe" style="color: rgb(232, 236, 238); margin: 0px 8px; height: 13px; overflow: hidden; width: 1px; display: inline-block; vertical-align: middle; position: relative; top: -2px; background: rgb(232, 236, 238);"></span>&nbsp;2013-09-10 15:03</div></div><div class="wgt-best mod-shadow " id="best-answer-1484080136" style="margin-bottom: 25px; font-family: 'Microsoft YaHei'; padding: 0px 0px 28px; zoom: 1; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(232, 236, 238); color: rgb(51, 51, 51); font-size: 14px; line-height: 24px; widows: 1; background-color: rgb(255, 255, 255); background-position: 0px 0px; background-repeat: initial initial;"><div class="hd line " style="position: relative;"><span class="grid-r f-aid pos-time answer-time" style="display: inline; float: right; font-size: 12px; color: rgb(164, 180, 187); margin-top: 0px; line-height: 26px;">2013-09-10 15:39</span><div id="act-link-banner-wp" class="grid-r" style="display: inline; float: right; margin-right: 25px;"></div><span class="iknow-qb_home_icons answer-type answer-best grid" style="display: inline-block; float: left; width: 21px; height: 28px; vertical-align: middle; color: rgb(74, 202, 93); font-size: 28px; line-height: 1; -webkit-font-smoothing: antialiased; speak: none; outline: 0px; margin-left: 2px; margin-right: 17px; font-family: iknow-qb_home_icons !important; background-repeat: no-repeat no-repeat;"></span><span class="answer-title h2 grid" style="display: inline; float: left; font-size: 22px; line-height: 24px; font-family: 'Microsoft YaHei', SimHei, arial; margin-top: 2px; margin-left: 0px; height: 26px; color: rgb(53, 181, 88);">最佳答案</span></div><div class="bd answer" id="answer-1484080136"><div class="line info f-aid" style="font-size: 12px; color: rgb(158, 173, 182);"></div><div class="line content" style="word-wrap: break-word; word-break: break-all;"><div id="best-content-1484080136" accuse="aContent" class="best-text mb-10" style="margin-bottom: 10px; margin-top: 10px; font-size: 16px; line-height: 29px; min-height: 55px;"><p style="padding: 0px;">首先，</p><table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  js" style="border-spacing: 0px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; width: 698px; border-collapse: separate !important; border-color: rgb(204, 204, 204) !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: auto !important; position: relative !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0.3em !important; margin-bottom: 0.3em !important; padding: 0px !important; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-bottom-right-radius: 4px !important; border-bottom-left-radius: 4px !important; background-image: none !important; background-color: rgb(245, 245, 245) !important; background-position: initial initial !important; background-repeat: initial initial !important;"><tbody style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><tr style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><td class="gutter" style="margin: 0px !important; padding: 9.5px 0px 9.5px 9.5px !important; border-top-width: 0px !important; border-bottom-width: 0px !important; border-left-width: 0px !important; border-right-color: rgb(225, 225, 232) !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; border-top-left-radius: 4px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 4px !important; color: rgb(175, 175, 175) !important; -webkit-user-select: none !important; background-image: none !important; background-color: rgb(247, 247, 249) !important; background-position: initial initial !important; background-repeat: initial initial !important;"><div class="line number1 index0 alt2" style="word-wrap: normal; height: 14px; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 0.5em 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">1</div></td><td class="code" style="width: 661px; margin: 0px !important; padding: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><div class="container" style="width: 1070px; margin-right: auto; margin-left: auto; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: relative !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><div class="line number1 index0 alt2" style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-weight: 700 !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(255, 120, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">var</code>&nbsp;<code class="js plain" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">m&nbsp;=&nbsp;</code><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-weight: 700 !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(255, 120, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">new</code>&nbsp;<code class="js plain" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">test();</code></div></div></td></tr></tbody></table><p style="padding: 0px;">用test<a href="https://www.baidu.com/s?wd=%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0&amp;tn=44039180_cpr&amp;fenlei=mv6quAkxTZn0IZRqIHckPjm4nH00T1YLmHcYuh79n1u-PWT4nHD40ZwV5Hcvrjm3rH6sPfKWUMw85HfYnjn4nH6sgvPsT6KdThsqpZwYTjCEQLGCpyw9Uz4Bmy-bIi4WUvYETgN-TLwGUv3EPHbsPWR4rjbY" target="_blank" class="baidu-highlight" rel="nofollow" style="color: rgb(63, 136, 191); text-decoration: none;">构造函数</a>来实例化一个对象。执行到第17行的时候：</p><table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  js" style="border-spacing: 0px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; width: 698px; border-collapse: separate !important; border-color: rgb(204, 204, 204) !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: auto !important; position: relative !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0.3em !important; margin-bottom: 0.3em !important; padding: 0px !important; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-bottom-right-radius: 4px !important; border-bottom-left-radius: 4px !important; background-image: none !important; background-color: rgb(245, 245, 245) !important; background-position: initial initial !important; background-repeat: initial initial !important;"><tbody style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><tr style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><td class="gutter" style="margin: 0px !important; padding: 9.5px 0px 9.5px 9.5px !important; border-top-width: 0px !important; border-bottom-width: 0px !important; border-left-width: 0px !important; border-right-color: rgb(225, 225, 232) !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; border-top-left-radius: 4px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 4px !important; color: rgb(175, 175, 175) !important; -webkit-user-select: none !important; background-image: none !important; background-color: rgb(247, 247, 249) !important; background-position: initial initial !important; background-repeat: initial initial !important;"><div class="line number1 index0 alt2" style="word-wrap: normal; height: 14px; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 0.5em 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">1</div></td><td class="code" style="width: 661px; margin: 0px !important; padding: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><div class="container" style="width: 1070px; margin-right: auto; margin-left: auto; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: relative !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><div class="line number1 index0 alt2" style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-weight: 700 !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(255, 120, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">this</code><code class="js plain" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">.age&nbsp;=&nbsp;50;</code></div></div></td></tr></tbody></table><p style="padding: 0px;">设置了一个当前对象的属性age=50;</p><p style="padding: 0px;">但是，第18行：</p><table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  js" style="border-spacing: 0px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; width: 698px; border-collapse: separate !important; border-color: rgb(204, 204, 204) !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: auto !important; position: relative !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0.3em !important; margin-bottom: 0.3em !important; padding: 0px !important; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-bottom-right-radius: 4px !important; border-bottom-left-radius: 4px !important; background-image: none !important; background-color: rgb(245, 245, 245) !important; background-position: initial initial !important; background-repeat: initial initial !important;"><tbody style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><tr style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><td class="gutter" style="margin: 0px !important; padding: 9.5px 0px 9.5px 9.5px !important; border-top-width: 0px !important; border-bottom-width: 0px !important; border-left-width: 0px !important; border-right-color: rgb(225, 225, 232) !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; border-top-left-radius: 4px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 4px !important; color: rgb(175, 175, 175) !important; -webkit-user-select: none !important; background-image: none !important; background-color: rgb(247, 247, 249) !important; background-position: initial initial !important; background-repeat: initial initial !important;"><div class="line number1 index0 alt2" style="word-wrap: normal; height: 14px; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 0.5em 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">1</div><div class="line number2 index1 alt1" style="word-wrap: normal; height: 14px; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 0.5em 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">2</div><div class="line number3 index2 alt2" style="word-wrap: normal; height: 14px; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 0.5em 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">3</div></td><td class="code" style="width: 661px; margin: 0px !important; padding: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><div class="container" style="width: 1070px; margin-right: auto; margin-left: auto; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: relative !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><div class="line number1 index0 alt2" style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-weight: 700 !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(255, 120, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">return</code>&nbsp;<code class="js keyword" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-weight: 700 !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(255, 120, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">function</code>&nbsp;<code class="js plain" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">(){</code></div><div class="line number2 index1 alt1" style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><code class="js spaces" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-weight: 700 !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(255, 120, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">return</code>&nbsp;<code class="js keyword" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-weight: 700 !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(255, 120, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">this</code><code class="js plain" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">.age;</code></div><div class="line number3 index2 alt2" style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><code class="js plain" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">}</code></div></div></td></tr></tbody></table><p style="padding: 0px;">相当于，返回了这个匿名函数作为当前对象(m)。也就是覆盖了由test函数构造的对象。也就是age已经没有了。这时，看看m.age。会是undefined。</p><p style="padding: 0px;">而第23行：</p><table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  js" style="border-spacing: 0px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; width: 698px; border-collapse: separate !important; border-color: rgb(204, 204, 204) !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: auto !important; position: relative !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0.3em !important; margin-bottom: 0.3em !important; padding: 0px !important; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-bottom-right-radius: 4px !important; border-bottom-left-radius: 4px !important; background-image: none !important; background-color: rgb(245, 245, 245) !important; background-position: initial initial !important; background-repeat: initial initial !important;"><tbody style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><tr style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><td class="gutter" style="margin: 0px !important; padding: 9.5px 0px 9.5px 9.5px !important; border-top-width: 0px !important; border-bottom-width: 0px !important; border-left-width: 0px !important; border-right-color: rgb(225, 225, 232) !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; border-top-left-radius: 4px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 4px !important; color: rgb(175, 175, 175) !important; -webkit-user-select: none !important; background-image: none !important; background-color: rgb(247, 247, 249) !important; background-position: initial initial !important; background-repeat: initial initial !important;"><div class="line number1 index0 alt2" style="word-wrap: normal; height: 14px; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 0.5em 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">1</div></td><td class="code" style="width: 661px; margin: 0px !important; padding: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><div class="container" style="width: 1070px; margin-right: auto; margin-left: auto; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: relative !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><div class="line number1 index0 alt2" style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><code class="js plain" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">m();</code></div></div></td></tr></tbody></table><p style="padding: 0px;">就是执行上面返回的匿名函数。this是什么? this是window对象。那this.age是什么呢?就是最上面定义的100;</p><p style="padding: 0px;">对于第二种情况，代码25行：</p><table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  js" style="border-spacing: 0px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; width: 698px; border-collapse: separate !important; border-color: rgb(204, 204, 204) !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: auto !important; position: relative !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0.3em !important; margin-bottom: 0.3em !important; padding: 0px !important; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-bottom-right-radius: 4px !important; border-bottom-left-radius: 4px !important; background-image: none !important; background-color: rgb(245, 245, 245) !important; background-position: initial initial !important; background-repeat: initial initial !important;"><tbody style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><tr style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><td class="gutter" style="margin: 0px !important; padding: 9.5px 0px 9.5px 9.5px !important; border-top-width: 0px !important; border-bottom-width: 0px !important; border-left-width: 0px !important; border-right-color: rgb(225, 225, 232) !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; border-top-left-radius: 4px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 4px !important; color: rgb(175, 175, 175) !important; -webkit-user-select: none !important; background-image: none !important; background-color: rgb(247, 247, 249) !important; background-position: initial initial !important; background-repeat: initial initial !important;"><div class="line number1 index0 alt2" style="word-wrap: normal; height: 14px; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 0.5em 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">1</div></td><td class="code" style="width: 661px; margin: 0px !important; padding: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><div class="container" style="width: 1070px; margin-right: auto; margin-left: auto; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: relative !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><div class="line number1 index0 alt2" style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-weight: 700 !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(255, 120, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">var</code>&nbsp;<code class="js plain" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">n&nbsp;=&nbsp;test();</code></div></div></td></tr></tbody></table><p style="padding: 0px;">就是一个普通的执行函数。那么在第17行：</p><table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  js" style="border-spacing: 0px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; width: 698px; border-collapse: separate !important; border-color: rgb(204, 204, 204) !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: auto !important; position: relative !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0.3em !important; margin-bottom: 0.3em !important; padding: 0px !important; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-bottom-right-radius: 4px !important; border-bottom-left-radius: 4px !important; background-image: none !important; background-color: rgb(245, 245, 245) !important; background-position: initial initial !important; background-repeat: initial initial !important;"><tbody style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><tr style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><td class="gutter" style="margin: 0px !important; padding: 9.5px 0px 9.5px 9.5px !important; border-top-width: 0px !important; border-bottom-width: 0px !important; border-left-width: 0px !important; border-right-color: rgb(225, 225, 232) !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; border-top-left-radius: 4px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 4px !important; color: rgb(175, 175, 175) !important; -webkit-user-select: none !important; background-image: none !important; background-color: rgb(247, 247, 249) !important; background-position: initial initial !important; background-repeat: initial initial !important;"><div class="line number1 index0 alt2" style="word-wrap: normal; height: 14px; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 0.5em 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">1</div></td><td class="code" style="width: 661px; margin: 0px !important; padding: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><div class="container" style="width: 1070px; margin-right: auto; margin-left: auto; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: relative !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><div class="line number1 index0 alt2" style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-weight: 700 !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(255, 120, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">this</code><code class="js plain" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">.age&nbsp;=&nbsp;50;</code></div></div></td></tr></tbody></table><p style="padding: 0px;">发生了什么呢？首先，确定this，也就是当前作用域什么什么。由于不是<a href="https://www.baidu.com/s?wd=%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0&amp;tn=44039180_cpr&amp;fenlei=mv6quAkxTZn0IZRqIHckPjm4nH00T1YLmHcYuh79n1u-PWT4nHD40ZwV5Hcvrjm3rH6sPfKWUMw85HfYnjn4nH6sgvPsT6KdThsqpZwYTjCEQLGCpyw9Uz4Bmy-bIi4WUvYETgN-TLwGUv3EPHbsPWR4rjbY" target="_blank" class="baidu-highlight" rel="nofollow" style="color: rgb(63, 136, 191); text-decoration: none;">构造函数</a>执行。那么，普通的函数执行的作用域应该为window。也就是第17行，相当于把window的age属性设置为50了。也就是最上面定义的变量。</p><p style="padding: 0px;">那在执行26行：</p><table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  js" style="border-spacing: 0px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; width: 698px; border-collapse: separate !important; border-color: rgb(204, 204, 204) !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: auto !important; position: relative !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0.3em !important; margin-bottom: 0.3em !important; padding: 0px !important; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-bottom-right-radius: 4px !important; border-bottom-left-radius: 4px !important; background-image: none !important; background-color: rgb(245, 245, 245) !important; background-position: initial initial !important; background-repeat: initial initial !important;"><tbody style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><tr style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><td class="gutter" style="margin: 0px !important; padding: 9.5px 0px 9.5px 9.5px !important; border-top-width: 0px !important; border-bottom-width: 0px !important; border-left-width: 0px !important; border-right-color: rgb(225, 225, 232) !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; border-top-left-radius: 4px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 4px !important; color: rgb(175, 175, 175) !important; -webkit-user-select: none !important; background-image: none !important; background-color: rgb(247, 247, 249) !important; background-position: initial initial !important; background-repeat: initial initial !important;"><div class="line number1 index0 alt2" style="word-wrap: normal; height: 14px; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 0.5em 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">1</div></td><td class="code" style="width: 661px; margin: 0px !important; padding: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><div class="container" style="width: 1070px; margin-right: auto; margin-left: auto; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: relative !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><div class="line number1 index0 alt2" style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><code class="js plain" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">n();</code></div></div></td></tr></tbody></table><p style="padding: 0px;">和执行23行代码效果一样。因为age在执行17行的时候已经变成50了。so～就是50了。</p></div><div class="quality-content-view-more mb-15" style="margin-bottom: 15px;"></div><div class="newbest-content-meta line mt-15 ff-arial" style="margin-top: 15px; font-family: arial, 宋体, sans-serif, tahoma;"><div class="ft-info grid" style="display: inline; float: left; font-size: 12px; color: rgb(158, 172, 182); padding-top: 5px;"><i class="i-quality-icon" style="width: 15px; height: 19px; display: inline-block; vertical-align: middle; margin-right: 3px; margin-top: -2px; position: relative; background-image: url(&quot;&quot;); background-position: -416px -2983px; background-repeat: no-repeat;"></i>&nbsp;本回答由提问者推荐</div><div class="grid-r f-aid " style="display: inline; float: right; font-size: 12px; color: rgb(158, 173, 182);"><span alog-action="qb-comment-btnbestbox" class="comment f-black cursor" id="comment-1484080136" style="color: rgb(51, 51, 51); cursor: pointer;"><i class="iknow-qb_home_icons i-icon-comment mr-5" style="margin-right: 5px; width: 16px; height: 15px; display: inline-block; vertical-align: middle; color: rgb(192, 205, 214); font-size: 14px; line-height: 1; -webkit-font-smoothing: antialiased; speak: none; font-style: normal; outline: 0px; font-family: iknow-qb_home_icons !important; background-repeat: no-repeat no-repeat;"></i>评论</span>&nbsp;<div class="qb-zan-eva" style="display: inline-block; margin-left: 16px; border: 1px solid rgb(226, 231, 234); border-top-left-radius: 16px; border-top-right-radius: 16px; border-bottom-right-radius: 16px; border-bottom-left-radius: 16px; background-image: url(&quot;&quot;); background-position: 50% 50%; background-repeat: no-repeat no-repeat;"><span alog-action="qb-zan-btnbestbox" class="iknow-qb_home_icons evaluate evaluate-32
                        " id="evaluate-1484080136" data-evaluate="11" style="line-height: 34px; -webkit-font-smoothing: antialiased; speak: none; outline: 0px; font-family: arial, 'Microsoft Yahei'; display: inline-block; cursor: pointer; color: rgb(51, 179, 88); font-size: 14px;"><i class="iknow-qb_home_icons i-evaluate" style="width: 32px; height: 32px; display: inline-block; vertical-align: middle; color: rgb(40, 193, 83); font-size: 17px; line-height: 32px; -webkit-font-smoothing: antialiased; speak: none; font-style: normal; outline: 0px; text-align: right; font-family: iknow-qb_home_icons !important; background-position: 0px 0px; background-repeat: initial initial;"></i><b class="evaluate-num evaluate-num-fixed" id="83-num" style="font-weight: 400; display: inline-block; text-align: center; padding: 0px; width: 45px;">11</b></span>&nbsp;<span alog-action="qb-evaluate-outer" class="iknow-qb_home_icons evaluate evaluate-bad evaluate-32 
                        " id="evaluate-bad-1484080136" data-evaluate="0" style="line-height: 34px; -webkit-font-smoothing: antialiased; speak: none; outline: 0px; font-family: arial, 'Microsoft Yahei'; display: inline-block; cursor: pointer; color: rgb(122, 143, 154); font-size: 14px; margin-left: 8px;"><i class="iknow-qb_home_icons i-evaluate" style="width: 27px; height: 32px; display: inline-block; vertical-align: middle; color: rgb(158, 173, 182); font-size: 17px; line-height: 32px; -webkit-font-smoothing: antialiased; speak: none; font-style: normal; outline: 0px; text-align: right; font-family: iknow-qb_home_icons !important; background-position: 0px 0px; background-repeat: initial initial;"></i><b class="evaluate-num evaluate-num-fixed" id="83-bad-num" style="font-weight: 400; display: inline-block; text-align: center; padding: 0px 5px 0px 0px; width: 45px;">0</b></span></div></div></div></div></div><div class="line wgt-replyer-best wgt-replyer-special-bg " style="position: relative; overflow: hidden; margin-top: 15px; padding: 20px 0px 20px 25px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(224, 230, 233); background: rgb(251, 252, 252);"><div class="replyer-best-box" style="position: relative; height: 50px; overflow: hidden;"><div class="grid mr-15" style="display: inline; float: left; margin-right: 15px;"><p class="avatar-70 avatar-static" style="padding: 0px; position: static; zoom: 1; width: 50px; height: 50px; border-top-left-radius: 35px; border-top-right-radius: 35px; border-bottom-right-radius: 35px; border-bottom-left-radius: 35px;"><a alog-action="qb-username" log="pms:newqb,pos:bestreplyer" class="avatar-normal-a" rel="nofollow" href="http://zhidao.baidu.com/usercenter?uid=f80ac8bf47398736396a96d9663187c6" target="_blank" data-img="
                                    http://img.iknow.bdimg.com/avatar/100/r6s1g6.gif                                " style="color: rgb(63, 136, 191); text-decoration: none; display: inline-block; height: 50px; overflow: hidden; border-radius: 50%;"><img src="b7c74197-fc49-4ec4-a4f6-3c18dd9083be_128_files/5e83d14c-7e0f-415c-b507-1b9bb33f42c3.png" style="width: 50px; display: inline;" name=""></a></p></div><div class="grid f-aid ff-arial" style="display: inline; float: left; font-size: 12px; color: rgb(158, 173, 182); font-family: arial, 宋体, sans-serif, tahoma;"><p class="mb-5" style="margin-bottom: 5px; padding: 0px; font-size: 12px;"><a alog-action="qb-username" log="pms:newqb,pos:bestreplyer" class="user-name" rel="nofollow" href="http://zhidao.baidu.com/usercenter?uid=f80ac8bf47398736396a96d9663187c6" target="_blank" style="color: rgb(51, 51, 51); text-decoration: none; font-size: 14px; font-family: &quot;Microsoft YaHei&quot;;">wanghe_love&nbsp;</a><a class="i-gradeIndex i-gradeIndex-6" href="http://www.baidu.com/search/zhidao_help.html#如何选择头衔" target="_blank" style="color: rgb(80, 201, 113); text-decoration: none; width: 34px; height: 15px; display: inline-block; vertical-align: middle; margin-top: -2px; font-size: 12px; background-image: url(&quot;&quot;); background-position: -397px -3127px; background-repeat: no-repeat;"></a></p><p class="carefield" style="margin-top: 3px; padding: 0px; max-width: 600px; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; font-size: 12px;"><span class="mr-15" style="margin-right: 15px;">采纳率：34%</span>&nbsp;擅长：&nbsp;<a class="mr-5 f-aid" href="http://zhidao.baidu.com/browse/176" target="_blank" style="color: rgb(158, 173, 182); text-decoration: none; margin-right: 5px; font-size: 12px;">校园生活</a>&nbsp;<a class="mr-5 f-aid" href="http://zhidao.baidu.com/browse/1255" target="_blank" style="color: rgb(158, 173, 182); text-decoration: none; margin-right: 5px; font-size: 12px;">企业信息化</a>&nbsp;<a class="mr-5 f-aid" href="http://zhidao.baidu.com/browse/1251" target="_blank" style="color: rgb(158, 173, 182); text-decoration: none; margin-right: 5px; font-size: 12px;">架构设计</a>&nbsp;<a class="mr-5 f-aid" href="http://zhidao.baidu.com/browse/870" target="_blank" style="color: rgb(158, 173, 182); text-decoration: none; margin-right: 5px; font-size: 12px;">JAVA相关</a>&nbsp;<a class="mr-5 f-aid" href="http://zhidao.baidu.com/browse/1248" target="_blank" style="color: rgb(158, 173, 182); text-decoration: none; margin-right: 5px; font-size: 12px;">JavaScript</a></p></div></div></div></div><div class="wgt-answers mod-shadow has-other " id="wgt-answers" style="padding: 0px; zoom: 1; margin-bottom: 40px; color: rgb(51, 51, 51); font-family: 'Microsoft YaHei', arial, 宋体, sans-serif, tahoma; font-size: 14px; line-height: 24px; widows: 1; background-color: rgb(255, 255, 255);"><div class="hd line other-hd"><h2 style="margin-top: 0px; margin-bottom: 0px; font-size: 20px; font-weight: 400; line-height: 24px; font-family: 'Microsoft YaHei', SimHei, arial; color: rgb(121, 142, 153);">其他回答</h2></div><div class="bd-wrap" style="padding: 0px; margin-bottom: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: rgb(163, 172, 181);"><div class="bd answer answer-first    " id="answer-1484085789" style="border-bottom-width: 1px; border-bottom-style: dotted; border-bottom-color: rgb(233, 233, 233); padding: 10px 0px 20px;"><div class="line"><a id="here" name="here" style="color: rgb(63, 136, 191);"></a><div class="line content" style="word-wrap: break-word; word-break: break-all;"><div id="answer-content-1484085789" accuse="aContent" class="answer-text line" style="font-size: 14px; line-height: 24px;"><span class="con">楼下答的基本正确。但是比较啰嗦，反而难懂了。<br><br>new运算符的时候会生成一个对象，叫做空对象。然后调用new运算符后面的函数，也就是类，<br>执行的过程，会把this绑定到空对象上。所以第一个把this是绑定到了生成的空对象上。<br>所以这个空对象有了age=50的属性。但返回的是函数，不是这个对象。函数中的函数这是闭包，闭包里面的函数的this指向跟是不是闭包没有关系，它依然指向window，于是，你的第一个显示100.<br><br>第二个没有生成对象。依然是闭包跟this没有关系，两个函数的调用都指向了window,所以<a href="https://www.baidu.com/s?wd=%E7%AC%AC%E4%B8%80%E6%AC%A1&amp;tn=44039180_cpr&amp;fenlei=mv6quAkxTZn0IZRqIHckPjm4nH00T1YLmHcYuh79n1u-PWT4nHD40ZwV5Hcvrjm3rH6sPfKWUMw85HfYnjn4nH6sgvPsT6KdThsqpZwYTjCEQLGCpyw9Uz4Bmy-bIi4WUvYETgN-TLwGUv3EPHbsPWR4rjbY" target="_blank" class="baidu-highlight" rel="nofollow" style="color: rgb(63, 136, 191); text-decoration: none;">第一次</a>执行 修改为50了，第二次执行显示50。<br><br>这也是<a href="https://www.baidu.com/s?wd=JS&amp;tn=44039180_cpr&amp;fenlei=mv6quAkxTZn0IZRqIHckPjm4nH00T1YLmHcYuh79n1u-PWT4nHD40ZwV5Hcvrjm3rH6sPfKWUMw85HfYnjn4nH6sgvPsT6KdThsqpZwYTjCEQLGCpyw9Uz4Bmy-bIi4WUvYETgN-TLwGUv3EPHbsPWR4rjbY" target="_blank" class="baidu-highlight" rel="nofollow" style="color: rgb(63, 136, 191); text-decoration: none;">JS</a>的难点之一，祝福你早点掌握~</span></div><div class="line f-light-gray f-12 mt-10 ff-arial" style="margin-top: 10px; font-size: 12px; color: rgb(158, 173, 182); font-family: arial, 宋体, sans-serif, tahoma;"><i class="i-quality-icon" style="width: 15px; height: 19px; display: inline-block; vertical-align: middle; margin-top: -3px; margin-right: 3px; background-image: url(&quot;&quot;); background-position: -416px -2983px; background-repeat: no-repeat;"></i>&nbsp;本回答被网友采纳</div><div class="line info f-light-gray mt-10 mb-5 f-12" style="margin-bottom: 5px; margin-top: 10px; font-size: 12px; color: rgb(158, 173, 182); font-family: arial, 宋体, sans-serif, tahoma;"><div class="grid pt-5" style="display: inline; float: left; padding-top: 5px;"><a alog-action="qb-username" class="user-name" rel="nofollow" href="http://zhidao.baidu.com/usercenter?uid=5fcce3722c505751fdb1934f95bba5bb" target="_blank" style="color: rgb(158, 173, 182); text-decoration: none;">书风笑&nbsp;</a><span class="i-gradeIndex i-gradeIndex-6" style="width: 34px; height: 15px; display: inline-block; vertical-align: middle; color: rgb(80, 201, 113); background-image: url(&quot;&quot;); background-position: -397px -3127px; background-repeat: no-repeat;"></span>&nbsp;<span class="f-pipe" style="color: rgb(232, 236, 238); margin: 0px 8px; height: 8px; overflow: hidden; width: 1px; display: inline-block; background: rgb(232, 236, 238);">|</span>&nbsp;<span class="pos-time">2013-09-10 15:45</span></div><div class="grid-r f-aid pos-relative" style="display: inline; float: right; position: relative; font-size: 12px; z-index: 1;"><span alog-action="qb-comment-btn" class="comment f-black cursor" id="comment-1484085789" style="color: rgb(51, 51, 51); cursor: pointer;"><i class="iknow-qb_home_icons i-icon-comment mr-5" style="margin-right: 5px; width: 16px; height: 15px; display: inline-block; vertical-align: middle; color: rgb(192, 205, 214); font-size: 14px; line-height: 1; -webkit-font-smoothing: antialiased; speak: none; font-style: normal; outline: 0px; font-family: iknow-qb_home_icons !important; background-repeat: no-repeat no-repeat;"></i>评论</span>&nbsp;<div class="qb-zan-eva" style="display: inline-block; margin-left: 16px; border: 1px solid rgb(226, 231, 234); border-top-left-radius: 16px; border-top-right-radius: 16px; border-bottom-right-radius: 16px; border-bottom-left-radius: 16px; background-image: url(&quot;&quot;); background-position: 50% 50%; background-repeat: no-repeat no-repeat;"><span alog-action="qb-zan-btn" class="iknow-qb_home_icons evaluate evaluate-32
                        " id="evaluate-1484085789" data-evaluate="3" style="line-height: 34px; -webkit-font-smoothing: antialiased; speak: none; outline: 0px; font-family: arial, 'Microsoft Yahei'; display: inline-block; cursor: pointer; color: rgb(51, 179, 88); font-size: 14px;"><i class="iknow-qb_home_icons i-evaluate" style="width: 32px; height: 32px; display: inline-block; vertical-align: middle; color: rgb(40, 193, 83); font-size: 17px; line-height: 32px; -webkit-font-smoothing: antialiased; speak: none; font-style: normal; outline: 0px; text-align: right; font-family: iknow-qb_home_icons !important; background-position: 0px 0px; background-repeat: initial initial;"></i><b class="evaluate-num evaluate-num-fixed" id="113-num" style="font-weight: 400; display: inline-block; text-align: center; padding: 0px; width: 45px;">3</b></span>&nbsp;<span alog-action="qb-evaluate-outer" class="iknow-qb_home_icons evaluate evaluate-bad evaluate-32 
                        " id="evaluate-bad-1484085789" data-evaluate="0" style="line-height: 34px; -webkit-font-smoothing: antialiased; speak: none; outline: 0px; font-family: arial, 'Microsoft Yahei'; display: inline-block; cursor: pointer; color: rgb(122, 143, 154); font-size: 14px; margin-left: 8px;"><i class="iknow-qb_home_icons i-evaluate" style="width: 27px; height: 32px; display: inline-block; vertical-align: middle; color: rgb(158, 173, 182); font-size: 17px; line-height: 32px; -webkit-font-smoothing: antialiased; speak: none; font-style: normal; outline: 0px; text-align: right; font-family: iknow-qb_home_icons !important; background-position: 0px 0px; background-repeat: initial initial;"></i><b class="evaluate-num evaluate-num-fixed" id="113-bad-num" style="font-weight: 400; display: inline-block; text-align: center; padding: 0px 5px 0px 0px; width: 45px;">0</b></span></div></div></div></div></div></div><div class="bd answer     " id="answer-1484073056" style="border-bottom-width: 1px; border-bottom-style: dotted; border-bottom-color: rgb(233, 233, 233); padding: 24px 0px 20px;"><div class="line"><a id="here" name="here" style="color: rgb(63, 136, 191);"></a><div class="line content" style="word-wrap: break-word; word-break: break-all;"><div id="answer-content-1484073056" accuse="aContent" class="answer-text mb-10" style="margin-bottom: 10px; font-size: 14px; line-height: 24px;"><table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  js" style="border-spacing: 0px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; width: 698px; border-collapse: separate !important; border-color: rgb(204, 204, 204) !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: auto !important; position: relative !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0.3em !important; margin-bottom: 0.3em !important; padding: 0px !important; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-bottom-right-radius: 4px !important; border-bottom-left-radius: 4px !important; background-image: none !important; background-color: rgb(245, 245, 245) !important; background-position: initial initial !important; background-repeat: initial initial !important;"><tbody style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><tr style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><td class="gutter" style="margin: 0px !important; padding: 9.5px 0px 9.5px 9.5px !important; border-top-width: 0px !important; border-bottom-width: 0px !important; border-left-width: 0px !important; border-right-color: rgb(225, 225, 232) !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; border-top-left-radius: 4px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 4px !important; color: rgb(175, 175, 175) !important; -webkit-user-select: none !important; background-image: none !important; background-color: rgb(247, 247, 249) !important; background-position: initial initial !important; background-repeat: initial initial !important;"><div class="line number1 index0 alt2" style="word-wrap: normal; height: 14px; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 0.5em 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">1</div><div class="line number2 index1 alt1" style="word-wrap: normal; height: 14px; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 0.5em 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">2</div><div class="line number3 index2 alt2" style="word-wrap: normal; height: 14px; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 0.5em 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">3</div><div class="line number4 index3 alt1" style="word-wrap: normal; height: 14px; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 0.5em 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">4</div><div class="line number5 index4 alt2" style="word-wrap: normal; height: 14px; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 0.5em 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">5</div><div class="line number6 index5 alt1" style="word-wrap: normal; height: 14px; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 0.5em 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">6</div><div class="line number7 index6 alt2" style="word-wrap: normal; height: 14px; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 0.5em 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">7</div><div class="line number8 index7 alt1" style="word-wrap: normal; height: 14px; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 0.5em 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">8</div><div class="line number9 index8 alt2" style="word-wrap: normal; height: 14px; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 0.5em 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">9</div><div class="line number10 index9 alt1" style="word-wrap: normal; height: 14px; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 0.5em 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">10</div><div class="line number11 index10 alt2" style="word-wrap: normal; height: 14px; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 0.5em 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">11</div><div class="line number12 index11 alt1" style="word-wrap: normal; height: 14px; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 0.5em 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">12</div><div class="line number13 index12 alt2" style="word-wrap: normal; height: 14px; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 0.5em 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">13</div><div class="line number14 index13 alt1" style="word-wrap: normal; height: 14px; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 0.5em 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">14</div><div class="line number15 index14 alt2" style="word-wrap: normal; height: 14px; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 0.5em 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">15</div><div class="line number16 index15 alt1" style="word-wrap: normal; height: 14px; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 0.5em 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">16</div><div class="line number17 index16 alt2" style="word-wrap: normal; height: 14px; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 0.5em 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">17</div><div class="line number18 index17 alt1" style="word-wrap: normal; height: 14px; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 0.5em 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">18</div><div class="line number19 index18 alt2" style="word-wrap: normal; height: 14px; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 0.5em 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">19</div><div class="line number20 index19 alt1" style="word-wrap: normal; height: 14px; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 0.5em 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">20</div></td><td class="code" style="width: 654px; margin: 0px !important; padding: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><div class="container" style="width: 1070px; margin-right: auto; margin-left: auto; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: relative !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><div class="line number1 index0 alt2" style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-weight: 700 !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(255, 120, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">var</code>&nbsp;<code class="js plain" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">age=100;</code></div><div class="line number2 index1 alt1" style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-weight: 700 !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(255, 120, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">function</code>&nbsp;<code class="js plain" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">test()</code></div><div class="line number3 index2 alt2" style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><code class="js plain" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">{</code></div><div class="line number4 index3 alt1" style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><code class="js spaces" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-weight: 700 !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(255, 120, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">this</code><code class="js plain" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">.age=50;</code></div><div class="line number5 index4 alt2" style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><code class="js spaces" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-weight: 700 !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(255, 120, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">return</code>&nbsp;<code class="js keyword" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-weight: 700 !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(255, 120, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">function</code><code class="js plain" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">()</code></div><div class="line number6 index5 alt1" style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><code class="js spaces" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">{</code></div><div class="line number7 index6 alt2" style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><code class="js spaces" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-weight: 700 !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(255, 120, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">return</code>&nbsp;<code class="js keyword" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-weight: 700 !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(255, 120, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">this</code><code class="js plain" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">.age;</code></div><div class="line number8 index7 alt1" style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><code class="js spaces" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">}</code></div><div class="line number9 index8 alt2" style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><code class="js plain" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">}</code></div><div class="line number10 index9 alt1" style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-weight: 700 !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(255, 120, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">var</code>&nbsp;<code class="js plain" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">m=</code><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-weight: 700 !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(255, 120, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">new</code>&nbsp;<code class="js plain" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">test();&nbsp;</code></div><div class="line number11 index10 alt2" style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><code class="js comments" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 130, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">//构造函数改变上下文this变为m;改变了m的age值为50,此时m=function(){return&nbsp;this.age}</code></div><div class="line number12 index11 alt1" style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><code class="js plain" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">alert(m());</code></div><div class="line number13 index12 alt2" style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><code class="js comments" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 130, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">//此时上下文环境为window,得出window.age=100;</code></div><div class="line number14 index13 alt1" style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-weight: 700 !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(255, 120, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">var</code>&nbsp;<code class="js plain" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">n=test();</code></div><div class="line number15 index14 alt2" style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><code class="js plain" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">alert(n());</code></div><div class="line number16 index15 alt1" style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><code class="js comments" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 130, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">//等同于alert(test()())</code></div><div class="line number17 index16 alt2" style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><code class="js comments" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 130, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">//因为上下文环境一直是window,test()时改变了age的值为50,所以test()()时返回50</code></div><div class="line number18 index17 alt1" style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">&nbsp;</div><div class="line number19 index18 alt2" style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><code class="js comments" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 130, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">//如果构造函数中返回的是非对象,则被忽略</code></div><div class="line number20 index19 alt1" style="border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;"><code class="js comments" style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 130, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;">//如果返回的是对象,则this指向返回的对象,但是原型链会出错。</code></div><br><div style="color:gray"><small>来源：&nbsp;<a href="http://zhidao.baidu.com/link?url=yJLtO7esFTJH0yXs_hPW4CVSZ7zsGtdv8WXVByL22BgUPV0_DoUG758NEjLacvOSep7IN7ONxF5laidIyeGXNa" target="_blank" rel="external">http://zhidao.baidu.com/link?url=yJLtO7esFTJH0yXs_hPW4CVSZ7zsGtdv8WXVByL22BgUPV0_DoUG758NEjLacvOSep7IN7ONxF5laidIyeGXNa</a></small></div></div></td></tr></tbody></table></div></div></div></div></div></div></div></body>
      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/前端/" rel="tag">#前端</a>
          
            <a href="/tags/js/" rel="tag">#js</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/10/03/再一次闭包/" rel="next" title="再一次闭包">
                <i class="fa fa-chevron-left"></i> 再一次闭包
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/10/03/oracle创建数据库/" rel="prev" title="oracle创建数据库">
                oracle创建数据库 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="阿炸" />
          <p class="site-author-name" itemprop="name">阿炸</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">29</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">21</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/mideng2" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/MomILU" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#undefined"><span class="nav-number">1.</span> <span class="nav-text">关于javascript中函数闭包和构造函数返回值的问题？</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-number">1.1.</span> <span class="nav-text">其他回答</span></a></li></ol></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">阿炸</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  




  
  

  

  

  

</body>
</html>
